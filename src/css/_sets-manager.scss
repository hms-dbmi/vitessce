@import './colors';
@import './zoom';

@mixin input-minimal-sm {
    border-radius: 3px;
    padding: 1px 4px;
    border: 0;
}

@mixin sets-manager($theme-name, $theme-colors) {

    /* The zoom mixin contains styles for the popover transition animations. */
    @include zoom;

    .sets-manager {
        .ant-tree {
            color: inherit;
            &.ant-tree-block-node li .ant-tree-node-content-wrapper {
                display: inline-block;
                position: relative;
                color: inherit;

                .ant-tree-title-right {
                    display: none;
                    // Not .draggable when name is being editted.
                    // Hide controls that overlap.
                }
                &.draggable .ant-tree-title-right {
                    display: inline-block;
                    position: absolute;
                    right: 10px;

                    .ant-tree-set-color {
                        display: inline-block;
                        position: relative;
                        top: 3px;
                        width: 16px;
                        height: 16px;
                        margin-left: 16px;
                        cursor: pointer;
                        outline: currentColor none medium;
                        border-radius: 3px;
                        box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset;
                    }

                    .ant-tree-set-size {
                        display: inline-block;
                    }
                }

                &:hover {
                    background-color: inherit;
                }
                &.ant-tree-node-selected {
                    background-color: inherit;
                }
                .ant-tree-title {
                    border: 0;
                    cursor: pointer;
                    color: map-get($theme-colors, "primary-foreground");
                    background-color: transparent;
                }
                .ant-tree-title-input {
                    @include input-minimal-sm;
                    width: calc(100% - 3em); // 3em = width of save button.
                }
                .ant-tree-title-save-button {
                    @include input-minimal-sm;
                    cursor: pointer;
                    margin-left: 4px;
                    background-color: #FFFFFF;
                }
                .ant-tree-node-menu-trigger-container {
                    transition: opacity 0.25s;
                    .ant-tree-node-menu-trigger {
                        font-size: 16px;
                        margin-left: 10px;
                        height: 20px;
                        line-height: 20px;
                        vertical-align: middle;
                    }
                }
            }
        }
        .ant-tabs {
            color: inherit;
            .ant-tabs-bar {
                z-index: 1;
                padding-top: 1.25rem;
                margin-top: -1.25rem;
                /* Need calculation, since with fixed position,
                    does not take padding into account. */
                width: calc(100% - 3.75rem);
                position: fixed;
                border-bottom: 1px solid #555555;
                
                background-color: map-get($theme-colors, "primary-background");
            }
            .ant-tabs-content {
                margin-top: 40px;
            }
            .ant-tabs-nav .ant-tabs-tab-active {
                font-weight: inherit;
            }
            &.ant-tabs-card .ant-tabs-card-bar {
                .ant-tabs-nav-container {
                    height: 28px;
                }
                .ant-tabs-tab {
                    height: 28px;
                    line-height: 26px;
                    padding: 0 6px;
                    border: 1px solid #555555;

                    background-color: map-get($theme-colors, "primary-background-dim");
                    color: map-get($theme-colors, "primary-foreground");
                    opacity: 0.9;

                    .ant-tabs-close-x {
                        margin-left: 5px;
                        margin-right: -2px;
                        color: map-get($theme-colors, "primary-foreground");
                    }

                    &.ant-tabs-tab-active {
                        border: 1px solid #555555;
                        background-color: map-get($theme-colors, "primary-background");
                        color: map-get($theme-colors, "primary-foreground");
                    }

                    &:first-child .ant-tabs-close-x {
                        display: none;
                    }
                }
            }
            .ant-tabs-extra-content {
                display: none;
            }
        }
        .sets-manager-more-icon {
            cursor: pointer;
            right: 10px;
            position: absolute;
            top: 10px;
        }
        .sets-manager-icon-bar {
            cursor: pointer;
            right: 36px;
            position: fixed;
            top: 46px;
            z-index: 2;
            i {
                border-radius: 4px;
                padding: 3px 2px 0 2px;
                margin-left: 10px;
                &:hover {
                    transition: background-color 0.5s;
                    background-color: map-get($theme-colors, "secondary-background-dim");
                }
            }
        }
    }

}